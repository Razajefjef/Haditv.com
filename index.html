<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>HadiTV Live - Official App</title>
    
    <!-- CSS & Frameworks -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hls.js/1.4.12/hls.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        
        :root {
            --hadi-blue: #007bff;
            --hadi-dark: #060b14;
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
        }

        body { 
            font-family: 'Inter', sans-serif; 
            background-color: var(--hadi-dark); 
            color: white; 
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
            user-select: none;
            overscroll-behavior-y: contain;
        }

        /* Splash Screen - Visual Match for Main_P1.jpg */
        #splash-screen {
            background-color: #060b14;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .hadi-text {
            font-size: 4rem;
            font-weight: 800;
            letter-spacing: -2px;
            color: white;
            line-height: 1;
        }

        .tv-text { color: var(--hadi-blue); }

        .subtitle {
            font-size: 0.8rem;
            letter-spacing: 0.8em;
            color: #ffffff;
            margin-top: 1rem;
            font-weight: 400;
            text-transform: uppercase;
            opacity: 0.8;
        }

        .btn-main {
            background-color: var(--hadi-blue);
            color: white;
            padding: 16px 65px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1rem;
            box-shadow: 0 4px 20px rgba(0, 123, 255, 0.4);
            cursor: pointer;
        }

        /* Main App Container */
        .header-white {
            background-color: white;
            color: #111;
            padding: calc(14px + var(--safe-top)) 20px 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 50;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .channel-thumbnail {
            width: 100%;
            aspect-ratio: 16/9;
            background-color: #000;
            border-radius: 14px;
            overflow: hidden;
            position: relative;
            background-size: cover;
            background-position: center;
        }

        /* Player Overlay */
        #player-view {
            background-color: #000;
            padding-top: var(--safe-top);
            padding-bottom: var(--safe-bottom);
        }

        .social-btn {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #1e293b;
            color: white;
            font-size: 1.3rem;
        }

        .hide { display: none !important; }
        
        .active-press:active { transform: scale(0.96); opacity: 0.8; }
    </style>
</head>
<body>

    <!-- Splash Screen (Referencing Main_P1.jpg) -->
    <div id="splash-screen" class="fixed inset-0 p-6">
        <div class="text-center mb-20">
            <div class="hadi-text">HADI<span class="tv-text">TV</span></div>
            <div class="subtitle">GLOBAL NETWORK</div>
        </div>
        <button onclick="enterApp()" class="btn-main active:scale-95 transition-transform">WATCH LIVE</button>
        <div class="absolute bottom-12 text-center w-full left-0 opacity-40">
            <div class="w-10 h-[1px] bg-white mx-auto mb-2"></div>
            <div class="text-[10px] tracking-[0.3em] uppercase">Official Application</div>
        </div>
    </div>

    <!-- Main Content Area -->
    <div id="main-content" class="hide">
        <header class="header-white">
            <div class="flex items-center">
                <span class="font-black text-2xl tracking-tighter">HADI</span><span class="font-black text-2xl tracking-tighter text-blue-600">TV</span>
            </div>
            <div class="flex space-x-6 text-xl">
                <i class="fas fa-search"></i>
                <i class="fas fa-bars"></i>
            </div>
        </header>

        <main class="p-5">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-extrabold">Live Channels</h2>
                <span class="text-blue-500 text-sm font-bold">Official Streams</span>
            </div>
            <div class="grid grid-cols-1 gap-8 mb-24" id="channels-grid">
                <!-- Channel items will be injected here -->
            </div>
        </main>
    </div>

    <!-- Fullscreen Player View -->
    <div id="player-view" class="hide fixed inset-0 z-[200] overflow-y-auto">
        <div class="flex items-center justify-between p-4 bg-black/60 backdrop-blur-md sticky top-0 z-[210]">
            <button onclick="closePlayer()" class="p-3"><i class="fas fa-arrow-left text-xl"></i></button>
            <div id="player-header-title" class="font-bold tracking-tight">HadiTV Live</div>
            <div class="w-12"></div>
        </div>

        <div class="w-full aspect-video bg-black sticky top-0 z-[205]">
            <video id="video-stream" class="w-full h-full" controls autoplay playsinline></video>
        </div>

        <div class="p-6 bg-[#060b14]">
            <div class="flex justify-between items-start mb-10">
                <div>
                    <h1 id="player-title" class="text-3xl font-black">Channel Name</h1>
                    <div class="flex items-center text-blue-500 font-bold mt-2 text-xs uppercase tracking-widest">
                        <span class="w-2 h-2 bg-red-600 rounded-full mr-2 animate-pulse"></span> Streaming Live
                    </div>
                </div>
                <div class="flex space-x-3">
                    <button class="social-btn active-press"><i class="fas fa-share-alt"></i></button>
                    <button class="social-btn active-press"><i class="far fa-heart"></i></button>
                </div>
            </div>

            <div class="mb-10">
                <p class="text-[10px] text-gray-500 font-black uppercase tracking-[0.2em] mb-4">Official Social Links</p>
                <div id="social-links" class="flex flex-wrap gap-4"></div>
            </div>

            <div class="bg-slate-900/40 rounded-2xl p-6 mb-10 border border-white/5">
                <div class="flex items-center gap-3 mb-4">
                    <i class="fas fa-satellite text-blue-500"></i>
                    <h3 class="font-bold text-xs tracking-widest uppercase">Reception Details</h3>
                </div>
                <p id="player-freq" class="text-gray-400 text-sm leading-relaxed whitespace-pre-line font-medium"></p>
            </div>
        </div>
    </div>

    <script>
        const channelsData = [
            { id: 1, name: "HadiTV1", lang: "Urdu-English", url: "https://g.decdn.net/haditv.co.uk/haditv1.m3u8", frq: "Satellite: PakSat MM1\nFrequency: 4099\nPolarity: Horizontal\nSymbol Rate: 3200", socials: { yt: "https://www.youtube.com/@HadiTVUR", fb: "https://www.facebook.com/HadiTV.OfficialPage", ig: "https://www.instagram.com/haditv1official", web: "https://ur.haditv.co.uk" } },
            { id: 2, name: "HadiTV2", lang: "Malay", url: "https://g.decdn.net/haditv.co.uk/haditv2.m3u8", frq: "Satellite: Astra 4A\nRegional Beam", socials: { yt: "https://www.youtube.com/@haditv2indonesia", fb: "https://www.facebook.com/Hadi.Tv.Indonesia", web: "https://id.haditv.co.uk" } },
            { id: 3, name: "HadiTV3", lang: "Azeri", url: "https://g.decdn.net/haditv.co.uk/haditv3.m3u8", frq: "Satellite: Hotbird\nFrequency: 11179\nPolarity: Horizontal\nSymbol Rate: 27500", socials: { yt: "https://www.youtube.com/channel/UCfyGvZupdgD6IKf-AeYzzSQ", ig: "https://www.instagram.com/haditv3_official", tk: "https://www.tiktok.com/@haditv3_az", web: "https://az.haditv.co.uk" } },
            { id: 4, name: "HadiTV4", lang: "Farsi", url: "https://g.decdn.net/haditv.co.uk/haditv4.m3u8", frq: "Satellite: Eutelsat 7C", socials: { yt: "https://www.youtube.com/@mostabserin", ig: "https://www.instagram.com/haditv_farsi", tg: "https://t.me/haditvfarsi", web: "https://fa.haditv.co.uk" } },
            { id: 5, name: "HadiTV5", lang: "Hausa-French-English", url: "https://g.decdn.net/haditv.co.uk/haditv5.m3u8", frq: "Satellite: SES-5", socials: { fb: "https://m.facebook.com/ha.haditv/", wa: "https://chat.whatsapp.com/Erjj9QxcMBn3jcTFoYBgLL", web: "https://ha.haditv.co.uk" } },
            { id: 6, name: "HadiTV6", lang: "Pashto-Dari", url: "https://g.decdn.net/haditv.co.uk/haditv6.m3u8", frq: "Satellite: Yahsat 1A\nFrequency: 11938\nPolarity: Horizontal", socials: { web: "https://fd.haditv.co.uk" } },
            { id: 7, name: "HadiTV7", lang: "Turkish-Kurdi", url: "https://g.decdn.net/haditv.co.uk/haditv7.m3u8", frq: "Satellite: Turksat 4A", socials: { web: "https://ku.haditv.co.uk" } },
            { id: 8, name: "HadiTV8", lang: "Swahili", url: "https://g.decdn.net/haditv.co.uk/haditv8.m3u8", frq: "Satellite: Intelsat 20", socials: { yt: "http://www.youtube.com/@alhadimedia-i8b", fb: "https://www.facebook.com/haditvswahili8", ig: "https://www.instagram.com/haditvswahili", web: "https://sw.haditv.co.uk" } }
        ];

        let hlsInstance = null;
        const videoElement = document.getElementById('video-stream');

        function enterApp() {
            document.getElementById('splash-screen').style.display = 'none';
            document.getElementById('main-content').classList.remove('hide');
            renderChannels();
        }

        function renderChannels() {
            const grid = document.getElementById('channels-grid');
            grid.innerHTML = channelsData.map(c => `
                <div onclick="openPlayer(${c.id})" class="active:opacity-60 transition-all">
                    <div class="channel-thumbnail shadow-xl" style="background-image: url('https://placehold.co/600x400/060b14/ffffff?text=${c.name}')">
                        <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent"></div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <div class="w-14 h-14 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center border border-white/20">
                                <i class="fas fa-play text-white ml-1"></i>
                            </div>
                        </div>
                        <div class="absolute bottom-4 left-4">
                            <span class="bg-blue-600 text-[9px] px-3 py-1 rounded-md font-black uppercase tracking-widest">Live Now</span>
                        </div>
                    </div>
                    <div class="mt-4 flex justify-between items-center px-1">
                        <div>
                            <h3 class="font-bold text-xl tracking-tight">${c.name}</h3>
                            <p class="text-[10px] text-gray-500 font-bold uppercase tracking-[0.2em] mt-1">${c.lang}</p>
                        </div>
                        <i class="fas fa-ellipsis-v text-gray-800 p-2"></i>
                    </div>
                </div>
            `).join('');
        }

        function openPlayer(id) {
            const channel = channelsData.find(c => c.id === id);
            if (!channel) return;

            document.getElementById('player-header-title').innerText = channel.name;
            document.getElementById('player-title').innerText = channel.name;
            document.getElementById('player-freq').innerText = channel.frq;
            
            const socialBox = document.getElementById('social-links');
            socialBox.innerHTML = '';
            const map = { yt: 'fa-youtube', fb: 'fa-facebook', ig: 'fa-instagram', tk: 'fa-tiktok', tg: 'fa-telegram', wa: 'fa-whatsapp', web: 'fa-globe' };
            
            Object.entries(channel.socials).forEach(([key, val]) => {
                if (val && val !== '-') {
                    const a = document.createElement('a');
                    a.href = val; a.className = "social-btn active-press"; a.target = "_blank";
                    a.innerHTML = `<i class="fab ${map[key]}"></i>`;
                    socialBox.appendChild(a);
                }
            });

            if (Hls.isSupported()) {
                if (hlsInstance) hlsInstance.destroy();
                hlsInstance = new Hls();
                hlsInstance.loadSource(channel.url);
                hlsInstance.attachMedia(videoElement);
                hlsInstance.on(Hls.Events.MANIFEST_PARSED, () => videoElement.play().catch(() => {}));
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = channel.url;
                videoElement.play().catch(() => {});
            }

            document.getElementById('player-view').classList.remove('hide');
            document.body.style.overflow = 'hidden';
            window.history.pushState({view: 'player'}, '');
        }

        function closePlayer() {
            videoElement.pause();
            if (hlsInstance) hlsInstance.stopLoad();
            document.getElementById('player-view').classList.add('hide');
            document.body.style.overflow = 'auto';
            if (window.history.state?.view === 'player') window.history.back();
        }

        window.onpopstate = () => {
            if (!document.getElementById('player-view').classList.contains('hide')) {
                closePlayer();
            }
        };
    </script>
</body>
</html>